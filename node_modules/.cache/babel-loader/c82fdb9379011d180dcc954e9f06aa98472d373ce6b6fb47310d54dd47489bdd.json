{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mhcho1\\\\Desktop\\\\react-Project\\\\kakaomap-app\\\\src\\\\components\\\\KakaoMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window;\nconst KakaoMap = _ref => {\n  _s();\n  let {\n    searchPlace\n  } = _ref;\n  const [Places, setPlaces] = useState([]);\n  useEffect(() => {\n    var infoWindow = new kakao.maps.InfoWindow({\n      zindex: 1,\n      removable: true\n    });\n    const container = document.getElementById('myMap');\n    const options = {\n      center: new kakao.maps.LatLng(36.32787631122742, 127.42585033518178),\n      level: 3\n    };\n    const map = new kakao.maps.Map(container, options);\n    const ps = new kakao.maps.services.Places();\n    ps.keywordSearch(searchPlace, searchPlaceCB);\n    function searchPlaceCB(data, status, pagination) {\n      if (status === kakao.maps.services.Status.OK) {\n        let bounds = new kakao.maps.LatLngBounds();\n        for (let i = 0; i < data.length; i++) {\n          displayMarker(data[i]);\n          bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\n        }\n        map.setBounds(bounds);\n        displayPagination(pagination);\n        setPlaces(data);\n      } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n        alert('검색 결과가 존재하지 않습니다.');\n        return false;\n      } else if (status === kakao.maps.services.Status.ERROR) {\n        alert('검색 결과 중 오류가 발생했습니다.');\n        return;\n      }\n    }\n    function displayMarker(place) {\n      let marker = new kakao.maps.Marker({\n        map: map,\n        position: new kakao.maps.LatLng(place.y, place.x)\n      });\n      kakao.maps.event.addListener(marker, 'click', () => {\n        infoWindow.setContent('<div style=\"padding:5px;font-size:12px;\">' + place.place_name + '</div>');\n        infoWindow.open(map, marker);\n      });\n    }\n    function displayPagination(pagination) {\n      var paginationEl = document.getElementById('pagination'),\n        fragment = document.createDocumentFragment(),\n        i;\n      while (paginationEl.hasChildNodes()) {\n        paginationEl.removeChild(paginationEl.lastChild);\n      }\n      for (i = 1; i <= pagination.last; i++) {\n        var el = document.createElement('a');\n        el.href = '#';\n        el.innerHTML = i;\n        if (i === pagination.current) {\n          el.className = 'on';\n        } else {\n          el.onclick = i => {\n            return () => pagination.gotoPage(i);\n          };\n        }\n        fragment.appendChild(el);\n      }\n      paginationEl.appendChild(fragment);\n    }\n  }, [searchPlace]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"myMap\",\n      style: {\n        width: '500px',\n        height: '400px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"result-list\",\n      children: [Places.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: i + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: item.place_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this), item.road_address_name ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.road_address_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: item.address_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.address_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"pagination\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n_s(KakaoMap, \"5OihLujbNyB5cmErkqCu1LSvw1A=\");\n_c = KakaoMap;\nexport default KakaoMap;\nvar _c;\n$RefreshReg$(_c, \"KakaoMap\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","kakao","window","KakaoMap","_ref","_s","searchPlace","Places","setPlaces","infoWindow","maps","InfoWindow","zindex","removable","container","document","getElementById","options","center","LatLng","level","map","Map","ps","services","keywordSearch","searchPlaceCB","data","status","pagination","Status","OK","bounds","LatLngBounds","i","length","displayMarker","extend","y","x","setBounds","displayPagination","ZERO_RESULT","alert","ERROR","place","marker","Marker","position","event","addListener","setContent","place_name","open","paginationEl","fragment","createDocumentFragment","hasChildNodes","removeChild","lastChild","last","el","createElement","href","innerHTML","current","className","onclick","gotoPage","appendChild","children","id","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","item","marginTop","road_address_name","address_name","phone","_c","$RefreshReg$"],"sources":["C:/Users/mhcho1/Desktop/react-Project/kakaomap-app/src/components/KakaoMap.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\n\r\nconst {kakao} = window;\r\n\r\nconst KakaoMap = ({searchPlace}) => {\r\n\r\n    const [Places, setPlaces] = useState([]);\r\n\r\n    useEffect(() => {\r\n        var infoWindow = new kakao.maps.InfoWindow({zindex : 1, removable : true});\r\n        const container = document.getElementById('myMap');\r\n        const options = {\r\n            center : new kakao.maps.LatLng(36.32787631122742, 127.42585033518178),\r\n            level : 3\r\n        };\r\n        const map = new kakao.maps.Map(container, options);\r\n\r\n        const ps = new kakao.maps.services.Places();\r\n        ps.keywordSearch(searchPlace, searchPlaceCB);\r\n\r\n        function searchPlaceCB(data, status, pagination) {\r\n            if (status === kakao.maps.services.Status.OK) {\r\n                let bounds = new kakao.maps.LatLngBounds();\r\n\r\n                for (let i = 0; i < data.length; i++) {\r\n                    displayMarker(data[i]);\r\n                    bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\r\n                }\r\n\r\n                map.setBounds(bounds);\r\n                displayPagination(pagination);\r\n                setPlaces(data);\r\n\r\n            } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\r\n                alert('검색 결과가 존재하지 않습니다.');\r\n                return false;\r\n\r\n            } else if (status === kakao.maps.services.Status.ERROR) {\r\n                alert('검색 결과 중 오류가 발생했습니다.');\r\n                return;\r\n        \r\n            }\r\n        }\r\n\r\n        function displayMarker(place) {\r\n            let marker = new kakao.maps.Marker({\r\n                map: map,\r\n                position: new kakao.maps.LatLng(place.y, place.x)\r\n            });\r\n            \r\n            kakao.maps.event.addListener(marker, 'click', () => {\r\n                infoWindow.setContent('<div style=\"padding:5px;font-size:12px;\">' + place.place_name + '</div>');\r\n                infoWindow.open(map, marker);\r\n            })\r\n        }\r\n\r\n        function displayPagination(pagination) {\r\n            var paginationEl = document.getElementById('pagination'),\r\n                fragment = document.createDocumentFragment(),\r\n                i;\r\n\r\n            while (paginationEl.hasChildNodes()) {\r\n                paginationEl.removeChild(paginationEl.lastChild);\r\n            }\r\n\r\n            for (i = 1; i <= pagination.last; i++) {\r\n                var el = document.createElement('a');\r\n                el.href = '#';\r\n                el.innerHTML = i;\r\n\r\n                if (i === pagination.current) {\r\n                    el.className = 'on';\r\n                } else {\r\n                    el.onclick = ((i) => {\r\n                        return () => pagination.gotoPage(i)\r\n                    })\r\n                }\r\n\r\n                fragment.appendChild(el);\r\n            }\r\n\r\n            paginationEl.appendChild(fragment);\r\n\r\n        }\r\n\r\n\r\n    }, [searchPlace]);\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div id=\"myMap\" style={{width:'500px', height:'400px'}}></div>\r\n\r\n            <div id=\"result-list\">\r\n                {Places.map((item, i) => (\r\n                    <div key={i} style={{ marginTop: '20px' }}>\r\n                        <span>{i + 1}</span>\r\n                        <div>\r\n                            <h5>{item.place_name}</h5>\r\n                            {item.road_address_name ? (\r\n                                <div>\r\n                                    <span>{item.road_address_name}</span>\r\n                                    <span>{item.address_name}</span>\r\n                                </div>\r\n                            ) : (\r\n                                <span>{item.address_name}</span>\r\n                            )}\r\n                            <span>{item.phone}</span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                <div id=\"pagination\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default KakaoMap;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}